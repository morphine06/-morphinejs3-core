{"version":3,"sources":["../src/Config.js"],"names":["rootDir","process","cwd","Config","readConfig","f","fs","readFileSync","JSON5","parse","package","f2","Config2","mergeDeep","error","isObject","item","Array","isArray","target","sources","length","source","shift","key","Object","assign"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,IAAMA,OAAO,GAAGC,OAAO,CAACC,GAAR,EAAhB;AAEA,IAAIC,MAAM,GAAG,EAAb;;;AACA,SAASC,UAAT,GAAsB;AACrB,MAAIC,CAAC,GAAGC,YAAGC,YAAH,CAAgBP,OAAO,GAAG,0BAA1B,CAAR;;AACA,mBAAAG,MAAM,GAAGK,cAAMC,KAAN,CAAYJ,CAAZ,CAAT;AACAF,EAAAA,MAAM,CAACO,OAAP,GAAiBF,cAAMC,KAAN,CAAYH,YAAGC,YAAH,CAAgBP,OAAO,GAAG,eAA1B,CAAZ,CAAjB;;AAEA,MAAI;AACH,QAAIW,EAAE,GAAGL,YAAGC,YAAH,CAAgBP,OAAO,GAAG,sBAA1B,CAAT;;AACA,QAAIY,OAAO,GAAGJ,cAAMC,KAAN,CAAYE,EAAZ,CAAd;;AACAE,IAAAA,SAAS,CAACV,MAAD,EAASS,OAAT,CAAT;AACA,GAJD,CAIE,OAAOE,KAAP,EAAc,CAAE;AAClB;;AACDV,UAAU;;AAEV,SAASW,QAAT,CAAkBC,IAAlB,EAAwB;AACvB,SAAOA,IAAI,IAAI,OAAOA,IAAP,KAAgB,QAAxB,IAAoC,CAACC,KAAK,CAACC,OAAN,CAAcF,IAAd,CAA5C;AACA;;AAED,SAASH,SAAT,CAAmBM,MAAnB,EAAuC;AAAA,oCAATC,OAAS;AAATA,IAAAA,OAAS;AAAA;;AACtC,MAAI,CAACA,OAAO,CAACC,MAAb,EAAqB,OAAOF,MAAP;AACrB,MAAMG,MAAM,GAAGF,OAAO,CAACG,KAAR,EAAf;;AAEA,MAAIR,QAAQ,CAACI,MAAD,CAAR,IAAoBJ,QAAQ,CAACO,MAAD,CAAhC,EAA0C;AACzC,SAAK,IAAME,GAAX,IAAkBF,MAAlB,EAA0B;AACzB,UAAIP,QAAQ,CAACO,MAAM,CAACE,GAAD,CAAP,CAAZ,EAA2B;AAC1B,YAAI,CAACL,MAAM,CAACK,GAAD,CAAX,EAAkBC,MAAM,CAACC,MAAP,CAAcP,MAAd,EAAsB;AAAE,WAACK,GAAD,GAAO;AAAT,SAAtB;AAClBX,QAAAA,SAAS,CAACM,MAAM,CAACK,GAAD,CAAP,EAAcF,MAAM,CAACE,GAAD,CAApB,CAAT;AACA,OAHD,MAGO;AACNC,QAAAA,MAAM,CAACC,MAAP,CAAcP,MAAd,EAAsB;AAAE,WAACK,GAAD,GAAOF,MAAM,CAACE,GAAD;AAAf,SAAtB;AACA;AACD;AACD;;AAED,SAAOX,SAAS,CAACM,MAAD,EAAS,GAAGC,OAAZ,CAAhB;AACA","sourcesContent":["import fs from \"fs\";\nimport JSON5 from \"json5\";\n\nconst rootDir = process.cwd();\n\nlet Config = {};\nfunction readConfig() {\n\tlet f = fs.readFileSync(rootDir + \"/morphinejs.config.jsonc\");\n\tConfig = JSON5.parse(f);\n\tConfig.package = JSON5.parse(fs.readFileSync(rootDir + \"/package.json\"));\n\n\ttry {\n\t\tlet f2 = fs.readFileSync(rootDir + \"/others.config.jsonc\");\n\t\tlet Config2 = JSON5.parse(f2);\n\t\tmergeDeep(Config, Config2);\n\t} catch (error) {}\n}\nreadConfig();\n\nfunction isObject(item) {\n\treturn item && typeof item === \"object\" && !Array.isArray(item);\n}\n\nfunction mergeDeep(target, ...sources) {\n\tif (!sources.length) return target;\n\tconst source = sources.shift();\n\n\tif (isObject(target) && isObject(source)) {\n\t\tfor (const key in source) {\n\t\t\tif (isObject(source[key])) {\n\t\t\t\tif (!target[key]) Object.assign(target, { [key]: {} });\n\t\t\t\tmergeDeep(target[key], source[key]);\n\t\t\t} else {\n\t\t\t\tObject.assign(target, { [key]: source[key] });\n\t\t\t}\n\t\t}\n\t}\n\n\treturn mergeDeep(target, ...sources);\n}\n\nexport { Config };\n"],"file":"Config.js"}